"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decodeResult = exports.encodeCall = void 0;
const scale_codec_1 = require("@subsquid/scale-codec");
const util_internal_hex_1 = require("@subsquid/util-internal-hex");
function encodeCall(address, input) {
    let sink = new scale_codec_1.HexSink();
    let dest = (0, util_internal_hex_1.decodeHex)(address);
    sink.bytes(dest); // origin
    sink.bytes(dest); // dest
    sink.u128(0n); // balance
    sink.u8(0); // optional gasLimit
    sink.u8(0); // optional storageDepositLimit
    // msg selector + arguments
    sink.compact(input.length);
    sink.bytes(input);
    return sink.toHex();
}
exports.encodeCall = encodeCall;
function decodeResult(result) {
    let src = new scale_codec_1.Src(result);
    // gasConsumed
    src.compact();
    src.compact();
    // gasRequired
    src.compact();
    src.compact();
    // storageDeposit
    src.u8();
    src.u128();
    src.str(); // debugMessage
    src.u8(); // result
    src.u32(); // flags
    return src.bytes(src.compactLength()); // execResult
}
exports.decodeResult = decodeResult;
//# sourceMappingURL=state.js.map